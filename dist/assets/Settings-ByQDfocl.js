import{e as h,j as e,l as T,f as w,r as x}from"./index-B-QOVXil.js";import{a as k}from"./App-gCA-TVeX.js";import{u as S}from"./useAdminActions-oUyNlHWx.js";const C=({settings:s,canManageSettings:a,onInputChange:i,onTimeChange:l})=>{const{t:r}=h();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:r("labOperatingHours")}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r("labOperatingHoursDesc")})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"labOpeningTime",className:"block text-sm font-medium text-gray-700",children:r("openingTime")}),e.jsx("input",{type:"time",id:"labOpeningTime",name:"labOpeningTime",value:s.labOpeningTime,onChange:l,disabled:!a,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm disabled:bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"labClosingTime",className:"block text-sm font-medium text-gray-700",children:r("closingTime")}),e.jsx("input",{type:"time",id:"labClosingTime",name:"labClosingTime",value:s.labClosingTime,onChange:l,disabled:!a,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm disabled:bg-gray-100"})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:r("surgePricing")}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r("surgePricingDesc")}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"surgePricingEnabled",name:"surgePricingEnabled",type:"checkbox",checked:s.surgePricingEnabled,onChange:i,disabled:!a,className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),e.jsx("div",{className:"ml-3 text-sm",children:e.jsx("label",{htmlFor:"surgePricingEnabled",className:"font-medium text-gray-700",children:r("enableSurgePricing")})})]}),s.surgePricingEnabled&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"surgeStartTime",className:"block text-sm font-medium text-gray-700",children:r("surgeStartTime")}),e.jsx("input",{type:"time",id:"surgeStartTime",name:"surgeStartTime",value:s.surgeStartTime,onChange:l,disabled:!a,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm disabled:bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"surgeEndTime",className:"block text-sm font-medium text-gray-700",children:r("surgeEndTime")}),e.jsx("input",{type:"time",id:"surgeEndTime",name:"surgeEndTime",value:s.surgeEndTime,onChange:l,disabled:!a,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm disabled:bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"surgeMultiplier",className:"block text-sm font-medium text-gray-700",children:r("multiplier")}),e.jsx("input",{type:"number",id:"surgeMultiplier",name:"surgeMultiplier",value:s.surgeMultiplier,onChange:i,step:"0.1",min:"1",disabled:!a,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm disabled:bg-gray-100"})]})]})]})]})]})},O=()=>{const{t:s}=h(),{systemSettings:a}=T(),{updateSystemSettings:i}=S(),{showToast:l}=w(),{hasPermission:r}=k(),[n,g]=x.useState("general"),[b,u]=x.useState(a),d=r("settings","manage"),p=async()=>{if(!d){l(s("permissionDeniedUpdate"),"error");return}const t=await i(b);t.success===!1?l(`${s("saveFailed")}: ${t.error.message}`,"error"):l(s("settingsSaveSuccess"),"success")},y=t=>{const{name:m,value:c,type:o,checked:N}=t.target;u(f=>({...f,[m]:o==="checkbox"?N:c}))},v=t=>{const{name:m,value:c}=t.target;u(o=>({...o,[m]:c}))},j=()=>e.jsx("div",{className:"text-center py-12 text-gray-500",children:e.jsx("p",{children:s("billingSettingsPlaceholder")})});return e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold mb-6 text-ever-black",children:s("systemSettings")}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8 px-6","aria-label":"Tabs",children:[e.jsx("button",{onClick:()=>g("general"),className:`${n==="general"?"border-ever-blue text-ever-blue":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:s("general")}),e.jsx("button",{onClick:()=>g("billing"),className:`${n==="billing"?"border-ever-blue text-ever-blue":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:s("billing")})]})}),e.jsxs("div",{className:"p-6",children:[n==="general"&&e.jsx(C,{settings:b,canManageSettings:d,onInputChange:y,onTimeChange:v}),n==="billing"&&j()]}),d&&e.jsx("div",{className:"px-6 py-4 bg-gray-50 text-right rounded-b-lg",children:e.jsx("button",{onClick:p,className:"bg-ever-blue hover:bg-ever-blue-dark text-white font-bold py-2 px-4 rounded-lg",children:s("saveSettings")})})]})]})};export{O as default};
