import{e as o,j as s,u as c,K as m}from"./index-B-QOVXil.js";import{a as x}from"./App-gCA-TVeX.js";const u=({invoice:t,onViewPDF:n,onDownload:a})=>{const{t:l}=o();return s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[s.jsx("p",{className:"font-bold",children:t.invoiceNumber}),s.jsxs("p",{children:[l("total")," Â¥",t.totalAmount.toLocaleString()]}),s.jsxs("p",{children:[l("issued")," ",new Date(t.issueDate).toLocaleDateString()]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{onClick:n,className:"text-blue-500",children:"View"}),s.jsx("button",{onClick:a,className:"text-blue-500",children:"Download"})]})]})},h=()=>{const{currentUser:t}=c(),{t:n}=o(),{invoices:a}=m(),{hasPermission:l}=x();if(!t)return null;if(!l("billing","read"))return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:n("permissionDenied")}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n("permissionDeniedViewPage")})]});const i=a.filter(e=>e.companyId===t.companyId),r=e=>{e.mfPdfUrl?window.open(e.mfPdfUrl,"_blank"):alert(n("cannotDisplayPdf"))},d=async e=>{e.mfPdfUrl?alert(n("cannotDownloadPdf")):alert(n("cannotDisplayPdf"))};return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:n("invoices")}),i.length>0?s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:i.map(e=>s.jsx(u,{invoice:e,onViewPDF:()=>r(e),onDownload:()=>d(e)},e.id))}):s.jsx("p",{children:n("noInvoicesAvailable")})]})};export{h as default};
