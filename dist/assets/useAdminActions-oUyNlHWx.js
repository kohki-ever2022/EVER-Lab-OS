import{c as g,l as h,t as D,r as n}from"./index-B-QOVXil.js";import{h as P}from"./App-gCA-TVeX.js";const E=()=>`id-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,x=()=>{const a=g(),{setPlans:r,setSystemSettings:u}=h(),{setConsumableNotifications:c}=D(),{addAuditLog:d}=P(),i=n.useCallback(async t=>await a.createAnnouncement(t),[a]),l=n.useCallback(async t=>await a.updateAnnouncement(t),[a]),m=n.useCallback(async t=>await a.deleteAnnouncement(t),[a]),y=n.useCallback(async t=>{try{return u(t),d("SETTINGS_UPDATE","System settings were updated."),{success:!0,data:t}}catch(e){return{success:!1,error:e instanceof Error?e:new Error(String(e))}}},[u,d]),C=n.useCallback(async t=>await a.createCompany(t),[a]),p=n.useCallback(async t=>await a.updateCompany(t),[a]),b=n.useCallback(async t=>await a.deleteCompany(t),[a]),w=n.useCallback(async t=>{const e={...t,id:E()};return r(s=>[...s,e]),{success:!0,data:e}},[r]),k=n.useCallback(async t=>(r(e=>e.map(s=>s.id===t.id?t:s)),{success:!0,data:t}),[r]),A=n.useCallback(async t=>await a.createMonthlyReport(t),[a]),S=n.useCallback(t=>{try{const e={...t,id:E()};return c(s=>[e,...s]),{success:!0,data:e}}catch(e){return{success:!1,error:e instanceof Error?e:new Error(String(e))}}},[c]),f=n.useCallback((t,e)=>{try{return c(s=>s.map(o=>o.id===t?{...o,status:e,...e==="COMPLETED"&&{restockedDate:new Date}}:o)),{success:!0,data:void 0}}catch(s){return{success:!1,error:s instanceof Error?s:new Error(String(s))}}},[c]);return n.useMemo(()=>({addAnnouncement:i,updateAnnouncement:l,deleteAnnouncement:m,updateSystemSettings:y,addCompany:C,updateCompany:p,deleteCompany:b,addPlan:w,updatePlan:k,addMonthlyReport:A,addConsumableNotification:S,updateConsumableNotificationStatus:f}),[i,l,m,y,C,p,b,w,k,A,S,f])};export{x as u};
