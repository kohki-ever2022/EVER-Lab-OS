import{u as p,e as g,h as j,f as y,r as x,j as e}from"./index-B-QOVXil.js";import{u as v}from"./App-gCA-TVeX.js";const C=()=>{const{currentUser:s}=p(),{t:a,isJapanese:u}=g(),{companies:h}=j(),{showToast:i}=y(),{updateUser:b}=v(),[l,r]=x.useState(!1),[n,c]=x.useState((s==null?void 0:s.name)||"");if(!s)return null;const o=h.find(t=>t.id===s.companyId),d=async t=>{if(t.preventDefault(),n.trim().length<2){i(a("nameMinLength"),"error");return}const m=await b({...s,name:n.trim()});if(m.success===!1){i(m.error.message,"error");return}r(!1)},f=[{labelKey:"emailAddress",value:s.email},{labelKey:"company",value:o?u?o.nameJP:o.nameEN:""},{labelKey:"role",value:s.role}];return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-ever-black",children:a("profile")}),!l&&e.jsx("button",{onClick:()=>r(!0),className:"bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4 border border-gray-300 rounded shadow text-sm",children:a("edit")})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[s.imageUrl?e.jsx("img",{src:s.imageUrl,alt:"Profile",className:"w-24 h-24 rounded-full object-cover"}):e.jsx("div",{className:"w-24 h-24 rounded-full bg-ever-purple flex items-center justify-center text-white text-4xl font-bold",children:s.name.charAt(0)}),e.jsxs("div",{className:"ml-6",children:[l?e.jsx("form",{onSubmit:d,children:e.jsx("input",{type:"text",value:n,onChange:t=>c(t.target.value),className:"text-2xl font-bold p-2 border rounded-md"})}):e.jsx("h3",{className:"text-3xl font-bold text-ever-black",children:s.name}),e.jsx("p",{className:"text-gray-500",children:s.role})]})]}),e.jsx("div",{className:"border-t pt-6",children:e.jsx("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2",children:f.map(t=>e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:a(t.labelKey)}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 break-words",children:t.value})]},t.labelKey))})}),l&&e.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>{r(!1),c(s.name)},className:"bg-gray-200 text-gray-700 font-bold py-2 px-4 rounded-lg",children:a("cancel")}),e.jsx("button",{onClick:d,className:"bg-ever-blue text-white font-bold py-2 px-4 rounded-lg",children:a("save")})]})]})]})};export{C as default};
