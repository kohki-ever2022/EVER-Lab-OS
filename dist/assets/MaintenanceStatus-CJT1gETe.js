import{e as x,$ as p,v as u,d as g,r as h,E as N,w as j,j as t}from"./index-B-QOVXil.js";const b=()=>{const{t:a,isJapanese:d}=x(),r=p(),o=u(),c=g(),i=h.useMemo(()=>o.filter(e=>e.status===N.Maintenance).map(e=>{const n=r.filter(s=>s.equipmentId===e.id&&s.status!==j.Completed).sort((s,m)=>new Date(m.reportDate).getTime()-new Date(s.reportDate).getTime())[0],l=n?c.find(s=>s.id===n.reportedByUserId):null;return{...e,latestLog:n,reporterName:l==null?void 0:l.name}}),[o,r,c]);return t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold mb-6 text-ever-black",children:a("maintenanceStatus")}),i.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(e=>t.jsxs("div",{className:"bg-white rounded-lg shadow border-l-4 border-yellow-500 p-6",children:[t.jsx("h3",{className:"font-bold text-lg text-gray-800",children:d?e.nameJP:e.nameEN}),t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:e.location}),e.latestLog?t.jsxs("div",{className:"bg-yellow-50 p-4 rounded-md",children:[t.jsx("p",{className:"text-sm text-yellow-800 font-semibold",children:a("latestReport")}),t.jsxs("p",{className:"text-sm text-yellow-700 mt-1 italic",children:['"',e.latestLog.notes,'"']}),t.jsxs("p",{className:"text-xs text-yellow-600 mt-2",children:[a("by")," ",e.reporterName||"N/A"," - ",new Date(e.latestLog.reportDate).toLocaleDateString()]})]}):t.jsx("p",{className:"text-sm text-gray-600",children:a("noDetailedReport")})]},e.id))}):t.jsx("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:t.jsx("p",{className:"text-gray-500",children:a("noMaintenanceEquipment")})})]})};export{b as default};
